# 카카오맵 API 설정 및 마커 이동 문제 해결

## ✅ 완료된 작업

1. **`.env` 파일 확인**: API 키가 올바르게 설정되어 있음
   - `VITE_KAKAO_REST_API_KEY=af4d06317e00c1376baf782047450605`

2. **디버깅 로그 추가**: 브라우저 콘솔에서 API 호출 상태 확인 가능

3. **마커 이동 로직 개선**: 좌표 변경 시 지도가 자동으로 이동하도록 수정

4. **카카오맵 타일 URL 제거**: 
   - 카카오맵은 Leaflet과 직접 통합되지 않음
   - OpenStreetMap 타일 사용 (지도 표시)
   - 카카오맵 API는 주소 변환(지오코딩)에만 사용

## 🔄 다음 단계: 클라이언트 재시작

**중요**: `.env` 파일 변경 후에는 **반드시 클라이언트를 재시작**해야 합니다!

### 재시작 방법

1. **현재 실행 중인 클라이언트 중지** (Ctrl+C)
2. **클라이언트 재시작**:
   ```bash
   cd client
   npm run dev
   ```

## 🧪 테스트 방법

1. **브라우저에서 `http://localhost:5173` 접속**
2. **F12 → Console 탭 열기** (디버깅 로그 확인용)
3. **"새 모임 만들기" 버튼 클릭**
4. **위치 입력 필드에 주소 입력**:
   ```
   서울시 강남구
   ```
5. **콘솔에서 확인**:
   - ✅ `카카오맵 API 키 확인: 설정됨 ✅`
   - ✅ `카카오맵 API 호출 중: 서울시 강남구`
   - ✅ `변환된 좌표: [37.4979, 127.0276]`
   - ✅ `지도 중심 이동: [37.4979, 127.0276]`
6. **마커가 강남구로 이동하는지 확인**

## 🔍 문제 해결

### 마커가 이동하지 않는 경우

1. **콘솔 로그 확인**:
   - API 키가 `undefined`로 나오면 → 클라이언트 재시작 필요
   - API 호출이 실패하면 → Network 탭에서 오류 확인

2. **Network 탭 확인**:
   - `dapi.kakao.com` 요청이 보이는지 확인
   - 응답 상태 코드 확인 (200이어야 함)

3. **클라이언트 재시작**:
   - `.env` 파일 변경 후 반드시 재시작 필요

### 지도가 카카오맵으로 보이지 않는 경우

**정상입니다!** 
- 현재는 **OpenStreetMap 타일**을 사용합니다 (지도 표시)
- **카카오맵 API**는 주소 변환에만 사용합니다
- 카카오맵 타일을 사용하려면 카카오맵 JavaScript API를 별도로 통합해야 합니다

## 📝 참고

- **카카오맵 API**: 주소 → 좌표 변환 (지오코딩)
- **OpenStreetMap 타일**: 지도 표시
- 두 가지를 함께 사용하는 것이 현재 최선의 방법입니다



